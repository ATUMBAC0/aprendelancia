{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Aprendelandia \u2014 Plataforma de Cursos Online","text":"<p>Bienvenido a Aprendelandia, una plataforma de cursos online escalable basada en microservicios.</p>"},{"location":"#que-es-esto","title":"\u00bfQu\u00e9 es esto?","text":"<p>Una arquitectura de FastAPI + Flask + PostgreSQL + MongoDB con un API Gateway centralizado. Perfecta para:</p> <ul> <li>Estudiantes: registrarse, ver cursos, responder evaluaciones, tracking de progreso</li> <li>Instructores: gestionar cursos, m\u00f3dulos, lecciones, cuestionarios</li> <li>Seguridad: JWT tokens, roles (estudiante/instructor), autenticaci\u00f3n</li> </ul>"},{"location":"#inicio-rapido-docker","title":"Inicio R\u00e1pido (Docker)","text":"<pre><code># Configurar\ncp .env.example .env\n\n# Levantar todo\ndocker-compose up --build\n\n# Abrir en navegador\n# Frontend:  http://localhost:5000\n# Gateway:   http://localhost:8000/docs\n</code></pre>"},{"location":"#estructura","title":"Estructura","text":"<ul> <li>Frontend (Flask): <code>frontend/app.py</code> (puerto 5000)</li> <li>API Gateway (FastAPI): <code>api-gateway/main.py</code> (puerto 8000)</li> <li>Servicios:</li> <li><code>authentication</code> (MongoDB, puerto 8001)</li> <li><code>cursos</code> (PostgreSQL, puerto 8002)</li> <li><code>evaluaciones</code> (PostgreSQL, puerto 8003)</li> <li><code>progreso</code> (PostgreSQL, puerto 8004)</li> </ul>"},{"location":"#documentacion-completa","title":"Documentaci\u00f3n Completa","text":"<ul> <li>Arquitectura \u2014 Diagrama y conceptos</li> <li>Setup &amp; Configuraci\u00f3n \u2014 C\u00f3mo correr localmente</li> <li>API Reference \u2014 Todos los endpoints</li> <li>Desarrollo \u2014 Testing y contribuciones</li> </ul>"},{"location":"GIT_COMMITS_GUIDE/","title":"\ud83d\udd27 Git - Gu\u00eda Pr\u00e1ctica de Commits por Sprint","text":""},{"location":"GIT_COMMITS_GUIDE/#configuracion-inicial-de-git","title":"Configuraci\u00f3n Inicial de Git","text":"<pre><code># Configurar identidad global\ngit config --global user.name \"Tu Nombre\"\ngit config --global user.email \"tu.email@ejemplo.com\"\n\n# Clonar repositorio\ngit clone https://github.com/ATUMBAC0/aprendelancia.git\ncd aprendelancia\n\n# Crear rama develop\ngit checkout -b develop\ngit push -u origin develop\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#sprint-1-autenticacion","title":"\ud83d\udd35 SPRINT 1: Autenticaci\u00f3n","text":""},{"location":"GIT_COMMITS_GUIDE/#inicio-del-sprint","title":"Inicio del Sprint","text":"<pre><code># Crear rama para autenticaci\u00f3n\ngit checkout develop\ngit pull origin develop\ngit checkout -b feature/auth-service\n\n# Actualizar main.py con estructura base\ngit add services/authentication/\ngit commit -m \"feat: init authentication service structure\n\n- Create authentication microservice folder\n- Add main.py, models.py, database.py\n- Add requirements.txt with dependencies\n- Add Dockerfile for containerization\"\n\n# Actualizar modelos de usuario\ngit add services/authentication/models.py\ngit commit -m \"feat(auth): add user model and database schema\n\n- Define User pydantic model\n- Add validation for email and password\n- Implement unique email constraint\n- Add role enum (estudiante, instructor, admin)\"\n\n# Configurar base de datos\ngit add services/authentication/database.py\ngit commit -m \"feat(auth): configure mongodb connection\n\n- Add MongoDB connection pool\n- Initialize default database\n- Create users collection\n- Add connection error handling\"\n\n# Agregar dependencias\ngit add services/authentication/requirements.txt\ngit commit -m \"build(auth): add authentication dependencies\n\n- Add fastapi==0.104.1\n- Add pymongo==4.15.4\n- Add passlib[bcrypt]==1.7.4\n- Add python-jose[cryptography]==3.5.0\n- Add pydantic==2.5.0\n- Add uvicorn==0.24.0\"\n\n# Implementar registro\ngit add services/authentication/main.py\ngit commit -m \"feat(auth): implement user registration endpoint\n\n- Create POST /register endpoint\n- Add email validation\n- Add password hashing with passlib\n- Add duplicate email check\n- Return success message with user role\"\n\n# Implementar login\ngit add services/authentication/main.py\ngit commit -m \"feat(auth): implement login with JWT generation\n\n- Create POST /login endpoint\n- Add password verification\n- Generate access_token (60 min expiry)\n- Generate refresh_token (7 days expiry)\n- Store tokens in Redis\n- Return bearer token\"\n\n# Implementar refresh token\ngit add services/authentication/main.py\ngit commit -m \"feat(auth): implement token refresh endpoint\n\n- Create POST /refresh endpoint\n- Validate refresh token expiry\n- Generate new access token\n- Maintain user claims (email, role)\n- Return new access token\"\n\n# Agregar health check\ngit add services/authentication/main.py\ngit commit -m \"feat(auth): add health check endpoint\n\n- Create GET /health endpoint\n- Return service status\n- Check MongoDB connection\n- Return response time\"\n\n# Agregar Dockerfile\ngit add services/authentication/Dockerfile\ngit commit -m \"build(auth): create dockerfile for authentication service\n\n- Use python:3.12-slim base image\n- Install dependencies from requirements.txt\n- Copy application code\n- Expose port 8001\n- Run uvicorn with hot reload\"\n\n# Integrar en docker-compose\ngit add docker-compose.yml\ngit commit -m \"infra: add authentication service to docker-compose\n\n- Add auth-service container\n- Configure port 8001\n- Link to MongoDB (auth-db)\n- Set environment variables\n- Add health checks\"\n\n# Agregar tests\ngit add tests/auth/test_register.py\ngit commit -m \"test(auth): add registration endpoint tests\n\n- Test successful registration\n- Test duplicate email prevention\n- Test weak password validation\n- Test invalid email rejection\"\n\ngit add tests/auth/test_login.py\ngit commit -m \"test(auth): add login endpoint tests\n\n- Test successful login\n- Test JWT token generation\n- Test invalid credentials\n- Test token expiry\"\n\n# Documentaci\u00f3n de variables de entorno\ngit add .env.example\ngit commit -m \"docs(auth): add authentication environment variables\n\n- Add JWT_SECRET example\n- Add MongoDB connection URL\n- Add Redis connection URL\n- Add token expiry times\"\n\n# Mergear a develop\ngit add -A\ngit commit -m \"docs(auth): finalize auth service documentation\"\ngit push origin feature/auth-service\n# Abrir Pull Request en GitHub\n# Despu\u00e9s de review y aprobaci\u00f3n:\ngit checkout develop\ngit pull origin develop\ngit merge --no-ff feature/auth-service\ngit push origin develop\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#sprint-2-microservicios","title":"\ud83d\udd35 SPRINT 2: Microservicios","text":""},{"location":"GIT_COMMITS_GUIDE/#tarea-21-servicio-de-cursos","title":"Tarea 2.1: Servicio de Cursos","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/cursos-service\n\n# Estructura base\ngit add services/cursos/\ngit commit -m \"feat(cursos): init cursos service structure\n\n- Create cursos microservice folder\n- Add main.py, models.py, database_sql.py\n- Add requirements.txt with postgresql dependencies\n- Add Dockerfile\"\n\n# Modelos de datos\ngit add services/cursos/models.py\ngit commit -m \"feat(cursos): define curso data models\n\n- Create Curso model with all fields\n- Add validation for curso data\n- Implement categoria enum\n- Add timestamps (created_at, updated_at)\"\n\n# Conexi\u00f3n a base de datos\ngit add services/cursos/database_sql.py\ngit commit -m \"feat(cursos): configure postgresql connection\n\n- Setup SQLAlchemy connection pool\n- Create cursos table schema\n- Add migration support\n- Implement connection error handling\"\n\n# CRUD endpoints\ngit add services/cursos/main.py\ngit commit -m \"feat(cursos): implement curso CRUD endpoints\n\n- GET /cursos - list all courses\n- GET /cursos/{id} - get course by id\n- POST /cursos - create new course (instructor)\n- PUT /cursos/{id} - update course\n- DELETE /cursos/{id} - delete course\n- GET /health - health check\"\n\n# Dockerfile\ngit add services/cursos/Dockerfile\ngit commit -m \"build(cursos): create dockerfile for cursos service\"\n\n# Integrar en docker-compose\ngit add docker-compose.yml\ngit commit -m \"infra: add cursos service to docker-compose\"\n\n# Tests\ngit add tests/cursos/\ngit commit -m \"test(cursos): add CRUD endpoint tests\"\n\n# Mergear\ngit push origin feature/cursos-service\n# PR, review, merge a develop\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#tarea-22-servicio-de-evaluaciones","title":"Tarea 2.2: Servicio de Evaluaciones","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/evaluaciones-service\n\n# Estructura base\ngit add services/evaluaciones/\ngit commit -m \"feat(evaluaciones): init evaluaciones service structure\"\n\n# Modelos con auto-grading\ngit add services/evaluaciones/models.py\ngit commit -m \"feat(evaluaciones): define evaluation models with grading\n\n- Create Evaluacion model\n- Define Pregunta model with question types\n- Implement Respuesta model\n- Add auto-grading logic for multiple choice\n- Add punto calculation\"\n\n# Base de datos\ngit add services/evaluaciones/database_sql.py\ngit commit -m \"feat(evaluaciones): configure postgresql for evaluations\"\n\n# CRUD endpoints\ngit add services/evaluaciones/main.py\ngit commit -m \"feat(evaluaciones): implement evaluation CRUD endpoints\"\n\n# Auto-grading\ngit add services/evaluaciones/main.py\ngit commit -m \"feat(evaluaciones): implement automatic grading system\n\n- Auto-grade multiple choice questions\n- Calculate total score\n- Store results with timestamp\n- Return immediate feedback\"\n\n# Dockerfile\ngit add services/evaluaciones/Dockerfile\ngit commit -m \"build(evaluaciones): create dockerfile for evaluaciones\"\n\n# Integrar en docker-compose\ngit add docker-compose.yml\ngit commit -m \"infra: add evaluaciones service to docker-compose\"\n\n# Tests\ngit add tests/evaluaciones/\ngit commit -m \"test(evaluaciones): add evaluation endpoint tests\"\n\n# Mergear\ngit push origin feature/evaluaciones-service\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#tarea-23-servicio-de-progreso","title":"Tarea 2.3: Servicio de Progreso","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/progreso-service\n\n# Estructura base\ngit add services/progreso/\ngit commit -m \"feat(progreso): init progreso service structure\"\n\n# Modelos de progreso\ngit add services/progreso/models.py\ngit commit -m \"feat(progreso): define progress tracking models\n\n- Create EstudianteProgreso model\n- Define CursoCompletado model\n- Add progress percentage calculation\n- Implement statistics models\"\n\n# Base de datos\ngit add services/progreso/database_sql.py\ngit commit -m \"feat(progreso): configure postgresql for progress tracking\"\n\n# Endpoints de progreso\ngit add services/progreso/main.py\ngit commit -m \"feat(progreso): implement progress tracking endpoints\n\n- GET /progreso/estudiantes/{id}/cursos - progress per course\n- GET /progreso/estudiantes/{id}/evaluaciones - grades\n- POST /progreso/estudiantes/{id}/marcar-completado - mark course done\n- GET /progreso/estadisticas - global statistics\"\n\n# Dockerfile\ngit add services/progreso/Dockerfile\ngit commit -m \"build(progreso): create dockerfile for progreso service\"\n\n# Integrar en docker-compose\ngit add docker-compose.yml\ngit commit -m \"infra: add progreso service to docker-compose\"\n\n# Tests\ngit add tests/progreso/\ngit commit -m \"test(progreso): add progress tracking tests\"\n\n# Mergear\ngit push origin feature/progreso-service\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#sprint-3-api-gateway","title":"\ud83d\udd35 SPRINT 3: API Gateway","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/api-gateway\n\n# Estructura base\ngit add api-gateway/\ngit commit -m \"feat(gateway): init api gateway structure\n\n- Create api-gateway folder\n- Add main.py, requirements.txt\n- Configure FastAPI app\"\n\n# Dependencias\ngit add api-gateway/requirements.txt\ngit commit -m \"build(gateway): add gateway dependencies\n\n- Add fastapi==0.104.1\n- Add httpx==0.25.0\n- Add python-dotenv==1.2.0\n- Add uvicorn==0.24.0\"\n\n# Rutas gen\u00e9ricas\ngit add api-gateway/main.py\ngit commit -m \"feat(gateway): implement generic routing for all services\n\n- Create router for /api/v1/{service}/{path}\n- Implement GET request forwarding\n- Implement POST request forwarding\n- Implement PUT request forwarding\n- Implement DELETE request forwarding\"\n\n# CORS\ngit add api-gateway/main.py\ngit commit -m \"feat(gateway): add cors middleware support\n\n- Enable CORS for frontend origin\n- Allow credentials\n- Set allowed headers and methods\"\n\n# Health monitoring\ngit add api-gateway/main.py\ngit commit -m \"feat(gateway): implement service health monitoring\n\n- GET /health returns gateway status\n- Check connection to all services\n- Return service availability\n- Track response times\"\n\n# Dockerfile\ngit add api-gateway/Dockerfile\ngit commit -m \"build(gateway): create dockerfile for api gateway\"\n\n# Integrar en docker-compose\ngit add docker-compose.yml\ngit commit -m \"infra: add api gateway to docker-compose\n\n- Configure port 8000\n- Link to all microservices\n- Set environment variables\"\n\n# Tests\ngit add tests/gateway/\ngit commit -m \"test(gateway): add gateway routing integration tests\"\n\n# Documentaci\u00f3n\ngit add docs/API_REFERENCE.md\ngit commit -m \"docs: add API reference documentation\n\n- Document all endpoints\n- Add request/response examples\n- Add authentication requirements\"\n\n# Mergear\ngit push origin feature/api-gateway\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#sprint-4-frontend","title":"\ud83d\udd35 SPRINT 4: Frontend","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/frontend-complete\n\n# Estructura base\ngit add frontend/\ngit commit -m \"feat(frontend): init flask application structure\n\n- Create frontend folder with Flask app\n- Add templates, static folders\n- Configure app.py\"\n\n# Dependencias\ngit add frontend/requirements.txt\ngit commit -m \"build(frontend): add flask dependencies\n\n- Add flask==3.0.0\n- Add requests==2.31.0\n- Add python-dotenv==1.2.0\"\n\n# Base de templates\ngit add frontend/templates/base.html\ngit commit -m \"feat(frontend): add base html template\n\n- Create responsive layout\n- Add navigation bar\n- Include CSS/JS references\"\n\n# P\u00e1gina de login\ngit add frontend/templates/login.html\ngit commit -m \"feat(frontend): create login page\n\n- Add email and password inputs\n- Add form validation\n- Add submit button\n- Add register link\"\n\ngit add frontend/app.py\ngit commit -m \"feat(frontend): implement login endpoint\n\n- Create POST /login handler\n- Call auth API\n- Store JWT token in session\n- Redirect to dashboard\"\n\n# P\u00e1gina de registro\ngit add frontend/templates/register.html\ngit commit -m \"feat(frontend): create registration page\n\n- Add form with all required fields\n- Add role selection\n- Add password confirmation\n- Add submit button\"\n\ngit add frontend/app.py\ngit commit -m \"feat(frontend): implement registration endpoint\n\n- Create POST /register handler\n- Call auth API\n- Validate form data\n- Handle registration errors\"\n\n# Dashboard\ngit add frontend/templates/dashboard.html\ngit commit -m \"feat(frontend): create dashboard page\n\n- Show welcome message\n- Display user information\n- Add links to main sections\n- Add logout button\"\n\n# P\u00e1gina de cursos\ngit add frontend/templates/cursos.html\ngit commit -m \"feat(frontend): create courses listing page\n\n- Display all available courses\n- Add course cards with info\n- Add enroll button\n- Add search/filter\"\n\ngit add frontend/templates/curso_detalle.html\ngit commit -m \"feat(frontend): create course detail page\n\n- Show course information\n- List course content\n- Display instructor info\n- Add progress bar\"\n\ngit add frontend/templates/curso_crear.html\ngit commit -m \"feat(frontend): create course creation form\n\n- Add form for course details\n- Add rich text editor for description\n- Add category selector\n- Add publish button (instructor only)\"\n\ngit add frontend/app.py\ngit commit -m \"feat(frontend): implement courses endpoints\n\n- GET /cursos - list courses\n- GET /cursos/{id} - course detail\n- POST /cursos/crear - create course (instructor)\n- POST /cursos/{id}/enrollar - enroll in course\"\n\n# P\u00e1gina de evaluaciones\ngit add frontend/templates/evaluaciones.html\ngit commit -m \"feat(frontend): create evaluations listing page\n\n- Display available evaluations\n- Show evaluation info\n- Add take test button\n- Show past results\"\n\ngit add frontend/templates/evaluacion_realizar.html\ngit commit -m \"feat(frontend): create evaluation form\n\n- Display questions one by one\n- Add timer for evaluation\n- Show question progress\n- Prevent backwards navigation\"\n\ngit add frontend/templates/resultados.html\ngit commit -m \"feat(frontend): create results page\n\n- Show evaluation score\n- Display correct/incorrect answers\n- Show answer explanations\n- Option to review evaluation\"\n\ngit add frontend/app.py\ngit commit -m \"feat(frontend): implement evaluation endpoints\n\n- GET /evaluaciones - list evaluations\n- GET /evaluaciones/{id} - start evaluation\n- POST /evaluaciones/{id}/submit - submit answers\n- GET /resultados/{id} - view results\"\n\n# P\u00e1gina de progreso\ngit add frontend/templates/progreso.html\ngit commit -m \"feat(frontend): create progress tracking page\n\n- Show enrolled courses\n- Display progress bars\n- Show estimated completion\n- List achievements\"\n\ngit add frontend/templates/estadisticas.html\ngit commit -m \"feat(frontend): create statistics dashboard\n\n- Show learning statistics\n- Display charts and graphs\n- Show performance metrics\n- Compare with averages\"\n\ngit add frontend/app.py\ngit commit -m \"feat(frontend): implement progress endpoints\n\n- GET /progreso - student progress\n- GET /estadisticas - statistics dashboard\n- GET /certificados - earned certificates\"\n\n# Styling\ngit add frontend/static/style.css\ngit commit -m \"style(frontend): add complete styling\n\n- Create consistent color scheme\n- Add responsive breakpoints\n- Style all form elements\n- Add hover effects and transitions\"\n\ngit add frontend/static/responsive.css\ngit commit -m \"style(frontend): add responsive design\n\n- Mobile-first approach\n- Tablet breakpoints\n- Desktop optimizations\n- Print styles\"\n\n# JavaScript\ngit add frontend/static/js/validation.js\ngit commit -m \"feat(frontend): add client-side validation\n\n- Validate email format\n- Check password strength\n- Validate required fields\n- Show validation messages\"\n\ngit add frontend/static/js/timer.js\ngit commit -m \"feat(frontend): add evaluation timer\n\n- Display countdown timer\n- Warn when time is running out\n- Auto-submit when time expires\"\n\ngit add frontend/static/chart.js\ngit commit -m \"feat(frontend): add chart library for statistics\n\n- Include Chart.js library\n- Create progress charts\n- Create performance graphs\n- Create achievement visualizations\"\n\n# Dockerfile\ngit add frontend/Dockerfile\ngit commit -m \"build(frontend): create dockerfile for frontend\n\n- Use python:3.12-slim base\n- Install dependencies\n- Copy application code\n- Expose port 5000\"\n\n# Integrar en docker-compose\ngit add docker-compose.yml\ngit commit -m \"infra: add frontend service to docker-compose\n\n- Configure port 5000\n- Link to api-gateway\n- Set environment variables\"\n\n# Mergear\ngit push origin feature/frontend-complete\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#sprint-5-testing-deploy","title":"\ud83d\udd35 SPRINT 5: Testing &amp; Deploy","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/testing-and-docs\n\n# Tests unitarios\ngit add tests/unit/\ngit commit -m \"test: add comprehensive unit tests\n\n- Test auth logic\n- Test models validation\n- Test database operations\n- Target coverage &gt; 80%\"\n\n# Tests de integraci\u00f3n\ngit add tests/integration/\ngit commit -m \"test: add integration tests\n\n- Test end-to-end workflows\n- Test API communication\n- Test database persistence\n- Test error handling\"\n\n# Tests de UI\ngit add tests/ui/\ngit commit -m \"test: add UI/frontend tests\n\n- Test page rendering\n- Test form validation\n- Test navigation\n- Test responsive design\"\n\n# CI/CD\ngit add .github/workflows/\ngit commit -m \"ci: add github actions workflow\n\n- Run tests on every push\n- Generate coverage report\n- Build docker images\n- Check code quality\"\n\n# README\ngit add README.md\ngit commit -m \"docs: add project README\n\n- Add project description\n- Include quick start guide\n- Add technology stack\n- Include screenshots\"\n\n# Setup guide\ngit add docs/SETUP.md\ngit commit -m \"docs: add setup instructions\n\n- Prerequisites\n- Installation steps\n- Running docker-compose\n- Troubleshooting\"\n\n# API Reference\ngit add docs/API_REFERENCE.md\ngit commit -m \"docs: add complete API reference\n\n- Document all endpoints\n- Include request/response examples\n- Add authentication info\n- Add error codes\"\n\n# Architecture\ngit add docs/ARCHITECTURE.md\ngit commit -m \"docs: add architecture documentation\n\n- System design overview\n- Component interactions\n- Database schema\n- Deployment diagram\"\n\n# Deployment guide\ngit add DEPLOY.md\ngit commit -m \"ops: add deployment instructions\n\n- Production setup\n- Environment configuration\n- Database backup procedures\n- Monitoring setup\"\n\n# Environment template\ngit add .env.example\ngit commit -m \"infra: add complete environment variables template\n\n- All service configurations\n- Database connections\n- Security settings\n- API keys\"\n\n# Coverage report\ngit add coverage/\ngit commit -m \"ci: generate coverage report\n\n- Achieve &gt; 80% coverage\n- Identify untested code\n- Add missing tests\"\n\n# Final merge\ngit push origin feature/testing-and-docs\n# PR, review, merge a develop\n\n# Crear release\ngit checkout main\ngit pull origin main\ngit merge --no-ff develop\ngit tag -a v1.0 -m \"Release version 1.0\"\ngit push origin main --tags\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#flujo-de-trabajo-estandar","title":"\ud83d\udcca Flujo de Trabajo Est\u00e1ndar","text":""},{"location":"GIT_COMMITS_GUIDE/#para-cada-feature","title":"Para cada feature","text":"<pre><code># 1. Crear rama\ngit checkout develop\ngit pull origin develop\ngit checkout -b feature/nombre-descriptivo\n\n# 2. Hacer cambios y commits\ngit add archivos\ngit commit -m \"tipo(scope): descripci\u00f3n\"\n\n# 3. Push a GitHub\ngit push origin feature/nombre-descriptivo\n\n# 4. Crear Pull Request\n# Ir a GitHub y abrir PR\n\n# 5. Despu\u00e9s de aprobaci\u00f3n, mergear\ngit checkout develop\ngit pull origin develop\ngit merge --no-ff feature/nombre-descriptivo\ngit push origin develop\n\n# 6. Eliminar rama local\ngit branch -d feature/nombre-descriptivo\n</code></pre>"},{"location":"GIT_COMMITS_GUIDE/#comandos-utiles","title":"\ud83d\udd0d Comandos \u00datiles","text":"<pre><code># Ver estado\ngit status\n\n# Ver historial\ngit log --oneline\n\n# Ver diferencias\ngit diff\n\n# Deshacer cambios\ngit checkout -- archivo\ngit reset HEAD archivo\n\n# Ver ramas\ngit branch -a\n\n# Cambiar entre ramas\ngit checkout nombre-rama\n\n# Stash (guardar cambios temporalmente)\ngit stash\ngit stash pop\n\n# Ver remotes\ngit remote -v\n\n# Actualizar main branch\ngit fetch origin main\ngit rebase origin/main\n\n# Squash commits\ngit rebase -i HEAD~3\n\n# Cherry-pick (aplicar commit espec\u00edfico)\ngit cherry-pick hash-commit\n</code></pre> <p>\u00daltima actualizaci\u00f3n: 15 de Noviembre de 2025</p>"},{"location":"INCREMENTAL/","title":"Flujo incremental (INCREMENTAL)","text":"<p>Este documento describe el flujo de trabajo incremental recomendado para el proyecto \"pedidos-domicilio\". Est\u00e1 pensado para equipos peque\u00f1os o individuales que prefieren entregas frecuentes y poco overhead.</p>"},{"location":"INCREMENTAL/#objetivo","title":"Objetivo","text":"<ul> <li>Entregar cambios peque\u00f1os, verificables y reversibles.</li> <li>Mantener calidad con tests y revisiones r\u00e1pidas.</li> </ul>"},{"location":"INCREMENTAL/#reglas-principales","title":"Reglas principales","text":"<ul> <li>Branching:</li> <li>Usa <code>feature/&lt;descripcion-corta&gt;</code> para nuevas funcionalidades.</li> <li>Usa <code>fix/&lt;issue-id&gt;-&lt;descripcion&gt;</code> para correcciones.</li> <li> <p>Usa <code>chore/&lt;descripcion&gt;</code> para tareas de mantenimiento.</p> </li> <li> <p>Pull Requests (PR):</p> </li> <li>Cada PR debe ser peque\u00f1o y at\u00f3mico (ideal &lt; 300 l\u00edneas).</li> <li>Incluir descripci\u00f3n: Qu\u00e9 cambia, por qu\u00e9, c\u00f3mo probarlo y criterios de aceptaci\u00f3n.</li> <li>Enlazar la PR a una issue o card del tablero si aplica.</li> <li> <p>Ejecutar CI y esperar resultados antes de merge.</p> </li> <li> <p>Commits:</p> </li> <li>Mensajes claros y at\u00f3micos.</li> <li> <p>Sigue el formato: <code>tipo(scope): mensaje</code> (ej. <code>feat(frontend): agregar logo</code>).</p> </li> <li> <p>Tests y validaci\u00f3n:</p> </li> <li>Ejecuta los tests localmente antes de abrir PR (usa el venv del proyecto).</li> <li> <p>CI ejecutar\u00e1 pytest en pushes/PRs.</p> </li> <li> <p>Revisi\u00f3n y merge:</p> </li> <li>Preferir merges por PRs despu\u00e9s de code review y CI verde.</li> <li>Mant\u00e9n PRs peque\u00f1os para revisiones r\u00e1pidas.</li> </ul>"},{"location":"INCREMENTAL/#buenas-practicas-y-recomendaciones","title":"Buenas pr\u00e1cticas y recomendaciones","text":"<ul> <li>Forzar despliegues locales con Docker Compose antes del merge si el cambio toca infraestructura o contenedores.</li> <li>No mezcles cambios conceptuales diferentes en una misma PR.</li> <li>Mant\u00e9n un CHANGELOG.md con entradas para releases importantes.</li> </ul>"},{"location":"INCREMENTAL/#tablero-y-visibilidad","title":"Tablero y visibilidad","text":"<ul> <li>Usa un tablero Kanban ligero (GitHub Projects, Trello):</li> <li>Columnas sugeridas: Backlog / Ready / In Progress / Review / Done</li> <li>Limita WIP a 2\u20133 items por contribuidor.</li> </ul>"},{"location":"INCREMENTAL/#plantillas-y-automatizacion","title":"Plantillas y automatizaci\u00f3n","text":"<ul> <li>A\u00f1ade plantillas de PR/Issue para uniformar la informaci\u00f3n requerida.</li> <li>Configura CI (workflow b\u00e1sico ya incluido) que ejecute tests en pushes/PRs.</li> </ul>"},{"location":"INCREMENTAL/#ejemplo-rapido-checklist-al-abrir-pr","title":"Ejemplo r\u00e1pido \u2014 checklist al abrir PR","text":"<ol> <li>[ ] Los tests locales pasan (<code>venv/bin/python -m pytest</code>).</li> <li>[ ] La PR contiene descripci\u00f3n clara y pasos para reproducir.</li> <li>[ ] Enlace a issue o card si aplica.</li> <li>[ ] El PR tiene m\u00e1ximo 300 l\u00edneas de diff si es posible.</li> </ol>"},{"location":"INCREMENTAL/#notas-finales","title":"Notas finales","text":"<p>Este flujo es intencionalmente ligero. Si el equipo crece o necesitas m\u00e1s gobernanza, puedes a\u00f1adir pr\u00e1cticas de Scrum (sprints, planning, retros) sobre esta base incremental.</p>"},{"location":"api/","title":"API de Servicios","text":"<p>Esta secci\u00f3n documenta los endpoints de la API de cada microservicio.</p>"},{"location":"api/#api-gateway","title":"API Gateway","text":"<p>El API Gateway act\u00faa como punto de entrada \u00fanico para todos los servicios.</p> <p>URL Base: <code>http://localhost:8000</code></p>"},{"location":"api/#endpoints-del-gateway","title":"Endpoints del Gateway","text":""},{"location":"api/#health-check","title":"Health Check","text":"<pre><code>GET /health\n</code></pre> <p>Retorna el estado del gateway.</p> <p>Respuesta exitosa: <pre><code>{\n  \"status\": \"healthy\",\n  \"service\": \"api-gateway\"\n}\n</code></pre></p>"},{"location":"api/#forwarding-pattern","title":"Forwarding Pattern","text":"<p>El gateway redirige peticiones a los servicios usando el patr\u00f3n:</p> <pre><code>GET /api/v1/{service_name}/{path}\nPOST /api/v1/{service_name}/{path}\nPUT /api/v1/{service_name}/{path}\nDELETE /api/v1/{service_name}/{path}\n</code></pre> <p>Servicios disponibles: - <code>auth</code> - Servicio de autenticaci\u00f3n - <code>cursos</code> - Servicio de cursos - <code>evaluaciones</code> - Servicio de evaluaciones - <code>progreso</code> - Servicio de progreso</p>"},{"location":"api/#servicio-de-autenticacion","title":"Servicio de Autenticaci\u00f3n","text":"<p>URL Base: <code>http://localhost:8001</code> Via Gateway: <code>http://localhost:8000/api/v1/auth</code></p>"},{"location":"api/#endpoints","title":"Endpoints","text":""},{"location":"api/#health-check_1","title":"Health Check","text":"<pre><code>GET /health\n</code></pre>"},{"location":"api/#registro-de-usuario","title":"Registro de Usuario","text":"<pre><code>POST /register\n</code></pre> <p>Body: <pre><code>{\n  \"username\": \"string\",\n  \"email\": \"string\",\n  \"password\": \"string\",\n  \"role\": \"estudiante|instructor\"\n}\n</code></pre></p>"},{"location":"api/#login","title":"Login","text":"<pre><code>POST /login\n</code></pre> <p>Body: <pre><code>{\n  \"username\": \"string\",\n  \"password\": \"string\"\n}\n</code></pre></p> <p>Respuesta: <pre><code>{\n  \"access_token\": \"string\",\n  \"token_type\": \"bearer\",\n  \"user\": {\n    \"id\": \"string\",\n    \"username\": \"string\",\n    \"email\": \"string\",\n    \"role\": \"string\"\n  }\n}\n</code></pre></p>"},{"location":"api/#verificar-usuario","title":"Verificar Usuario","text":"<pre><code>GET /users/me\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer {token}\n</code></pre></p>"},{"location":"api/#servicio-de-cursos","title":"Servicio de Cursos","text":"<p>URL Base: <code>http://localhost:8002</code> Via Gateway: <code>http://localhost:8000/api/v1/cursos</code></p>"},{"location":"api/#endpoints_1","title":"Endpoints","text":""},{"location":"api/#health-check_2","title":"Health Check","text":"<pre><code>GET /health\n</code></pre>"},{"location":"api/#listar-cursos","title":"Listar Cursos","text":"<pre><code>GET /cursos\n</code></pre> <p>Query Parameters: - <code>instructor_id</code> (opcional) - Filtrar por instructor - <code>activo</code> (opcional) - Filtrar por estado</p>"},{"location":"api/#obtener-curso","title":"Obtener Curso","text":"<pre><code>GET /cursos/{curso_id}\n</code></pre>"},{"location":"api/#crear-curso","title":"Crear Curso","text":"<pre><code>POST /cursos\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer {token}\n</code></pre></p> <p>Body: <pre><code>{\n  \"titulo\": \"string\",\n  \"descripcion\": \"string\",\n  \"instructor_id\": \"string\",\n  \"duracion_horas\": 0\n}\n</code></pre></p>"},{"location":"api/#actualizar-curso","title":"Actualizar Curso","text":"<pre><code>PUT /cursos/{curso_id}\n</code></pre>"},{"location":"api/#eliminar-curso","title":"Eliminar Curso","text":"<pre><code>DELETE /cursos/{curso_id}\n</code></pre>"},{"location":"api/#modulos-del-curso","title":"M\u00f3dulos del Curso","text":""},{"location":"api/#listar-modulos","title":"Listar M\u00f3dulos","text":"<pre><code>GET /cursos/{curso_id}/modulos\n</code></pre>"},{"location":"api/#crear-modulo","title":"Crear M\u00f3dulo","text":"<pre><code>POST /cursos/{curso_id}/modulos\n</code></pre> <p>Body: <pre><code>{\n  \"titulo\": \"string\",\n  \"descripcion\": \"string\",\n  \"orden\": 0,\n  \"contenido\": \"string\"\n}\n</code></pre></p>"},{"location":"api/#servicio-de-evaluaciones","title":"Servicio de Evaluaciones","text":"<p>URL Base: <code>http://localhost:8003</code> Via Gateway: <code>http://localhost:8000/api/v1/evaluaciones</code></p>"},{"location":"api/#endpoints_2","title":"Endpoints","text":""},{"location":"api/#health-check_3","title":"Health Check","text":"<pre><code>GET /health\n</code></pre>"},{"location":"api/#listar-evaluaciones","title":"Listar Evaluaciones","text":"<pre><code>GET /evaluaciones\n</code></pre> <p>Query Parameters: - <code>curso_id</code> (opcional) - <code>modulo_id</code> (opcional)</p>"},{"location":"api/#obtener-evaluacion","title":"Obtener Evaluaci\u00f3n","text":"<pre><code>GET /evaluaciones/{evaluacion_id}\n</code></pre>"},{"location":"api/#crear-evaluacion","title":"Crear Evaluaci\u00f3n","text":"<pre><code>POST /evaluaciones\n</code></pre> <p>Body: <pre><code>{\n  \"titulo\": \"string\",\n  \"descripcion\": \"string\",\n  \"curso_id\": \"string\",\n  \"modulo_id\": \"string\",\n  \"duracion_minutos\": 0,\n  \"puntaje_maximo\": 100\n}\n</code></pre></p>"},{"location":"api/#responder-evaluacion","title":"Responder Evaluaci\u00f3n","text":"<pre><code>POST /evaluaciones/{evaluacion_id}/respuestas\n</code></pre> <p>Body: <pre><code>{\n  \"usuario_id\": \"string\",\n  \"respuestas\": [\n    {\n      \"pregunta_id\": \"string\",\n      \"respuesta\": \"string\"\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/#obtener-resultado","title":"Obtener Resultado","text":"<pre><code>GET /evaluaciones/{evaluacion_id}/resultados/{usuario_id}\n</code></pre>"},{"location":"api/#servicio-de-progreso","title":"Servicio de Progreso","text":"<p>URL Base: <code>http://localhost:8004</code> Via Gateway: <code>http://localhost:8000/api/v1/progreso</code></p>"},{"location":"api/#endpoints_3","title":"Endpoints","text":""},{"location":"api/#health-check_4","title":"Health Check","text":"<pre><code>GET /health\n</code></pre>"},{"location":"api/#obtener-progreso-del-usuario","title":"Obtener Progreso del Usuario","text":"<pre><code>GET /progreso/usuario/{usuario_id}\n</code></pre>"},{"location":"api/#obtener-progreso-en-curso","title":"Obtener Progreso en Curso","text":"<pre><code>GET /progreso/usuario/{usuario_id}/curso/{curso_id}\n</code></pre>"},{"location":"api/#registrar-progreso","title":"Registrar Progreso","text":"<pre><code>POST /progreso\n</code></pre> <p>Body: <pre><code>{\n  \"usuario_id\": \"string\",\n  \"curso_id\": \"string\",\n  \"modulo_id\": \"string\",\n  \"completado\": true,\n  \"tiempo_minutos\": 0\n}\n</code></pre></p>"},{"location":"api/#actualizar-progreso","title":"Actualizar Progreso","text":"<pre><code>PUT /progreso/{progreso_id}\n</code></pre>"},{"location":"api/#estadisticas","title":"Estad\u00edsticas","text":"<pre><code>GET /progreso/estadisticas/usuario/{usuario_id}\n</code></pre> <p>Respuesta: <pre><code>{\n  \"cursos_inscritos\": 0,\n  \"cursos_completados\": 0,\n  \"tiempo_total_minutos\": 0,\n  \"promedio_evaluaciones\": 0\n}\n</code></pre></p>"},{"location":"api/#codigos-de-estado-http","title":"C\u00f3digos de Estado HTTP","text":"<ul> <li><code>200 OK</code> - Solicitud exitosa</li> <li><code>201 Created</code> - Recurso creado exitosamente</li> <li><code>400 Bad Request</code> - Datos inv\u00e1lidos</li> <li><code>401 Unauthorized</code> - No autenticado</li> <li><code>403 Forbidden</code> - No autorizado</li> <li><code>404 Not Found</code> - Recurso no encontrado</li> <li><code>500 Internal Server Error</code> - Error del servidor</li> </ul>"},{"location":"api/#autenticacion","title":"Autenticaci\u00f3n","text":"<p>La mayor\u00eda de endpoints requieren autenticaci\u00f3n mediante JWT (JSON Web Tokens).</p> <p>Header requerido: <pre><code>Authorization: Bearer {token}\n</code></pre></p> <p>El token se obtiene mediante el endpoint <code>/login</code> del servicio de autenticaci\u00f3n.</p>"},{"location":"api/#formato-de-errores","title":"Formato de Errores","text":"<p>Los errores siguen este formato:</p> <pre><code>{\n  \"detail\": \"Mensaje descriptivo del error\"\n}\n</code></pre>"},{"location":"api/#cors","title":"CORS","text":"<p>El API Gateway est\u00e1 configurado para aceptar peticiones de cualquier origen en desarrollo. En producci\u00f3n, esto debe configurarse apropiadamente.</p>"},{"location":"architecture/","title":"Arquitectura","text":""},{"location":"architecture/#vision-general","title":"Visi\u00f3n General","text":"<p>Aprendelancia utiliza una arquitectura de microservicios con un API Gateway centralizado.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Frontend (Flask)                         \u2502\n\u2502              http://localhost:5000                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              API Gateway (FastAPI)                          \u2502\n\u2502              http://localhost:8000                          \u2502\n\u2502     - Validaci\u00f3n JWT                                        \u2502\n\u2502     - Enrutamiento a servicios                              \u2502\n\u2502     - CORS                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502           \u2502              \u2502              \u2502\n        \u25bc           \u25bc              \u25bc              \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502 Auth  \u2502  \u2502 Cursos   \u2502  \u2502 Evaluaciones\u2502  \u2502Progreso\u2502\n    \u2502 :8001 \u2502  \u2502 :8002    \u2502  \u2502 :8003       \u2502  \u2502:8004   \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502           \u2502              \u2502              \u2502\n        \u25bc           \u25bc              \u25bc              \u25bc\n    MongoDB   PostgreSQL   PostgreSQL   PostgreSQL\n</code></pre>"},{"location":"architecture/#componentes","title":"Componentes","text":""},{"location":"architecture/#1-frontend-flask","title":"1. Frontend (Flask)","text":"<ul> <li>Ruta: <code>frontend/app.py</code></li> <li>Puerto: 5000</li> <li>Responsabilidades:</li> <li>UI para estudiantes/instructores</li> <li>Llamadas HTTP al Gateway</li> <li>Fallback a mock data si el Gateway no est\u00e1 disponible</li> </ul>"},{"location":"architecture/#2-api-gateway-fastapi","title":"2. API Gateway (FastAPI)","text":"<ul> <li>Ruta: <code>api-gateway/main.py</code></li> <li>Puerto: 8000</li> <li>Responsabilidades:</li> <li>Enrutamiento centralizado de requests</li> <li>Validaci\u00f3n de JWT tokens</li> <li>Conversi\u00f3n de errores HTTP</li> <li>CORS</li> </ul> <p>Routing pattern: <pre><code>GET /api/v1/{service}/{path}  \u2192  http://{service}:{port}/{path}\n</code></pre></p> <p>Ejemplo: <pre><code>GET /api/v1/cursos/         \u2192  http://cursos-service:8002/\nPOST /api/v1/evaluaciones/1/responder  \u2192  http://evaluaciones-service:8003/1/responder\n</code></pre></p>"},{"location":"architecture/#3-authentication-service-fastapi","title":"3. Authentication Service (FastAPI)","text":"<ul> <li>Ruta: <code>services/authentication/main.py</code></li> <li>Puerto: 8001</li> <li>Base de datos: MongoDB</li> <li>Responsabilidades:</li> <li>Registro e login de usuarios</li> <li>Generaci\u00f3n de JWT tokens</li> <li>Validaci\u00f3n de roles (estudiante/instructor)</li> <li>Refresh token management (Redis)</li> </ul> <p>Endpoints principales: - <code>POST /register</code> \u2014 Crear usuario - <code>POST /login</code> \u2014 Obtener JWT token - <code>POST /refresh</code> \u2014 Renovar token expirado</p>"},{"location":"architecture/#4-cursos-service-fastapi","title":"4. Cursos Service (FastAPI)","text":"<ul> <li>Ruta: <code>services/cursos/main.py</code></li> <li>Puerto: 8002</li> <li>Base de datos: PostgreSQL</li> <li>Responsabilidades:</li> <li>Gestionar cat\u00e1logo de cursos</li> <li>M\u00f3dulos y lecciones</li> <li>Estructura jer\u00e1rquica</li> </ul> <p>Endpoints principales: - <code>GET /</code> \u2014 Listar cursos - <code>GET /{curso_id}</code> \u2014 Detalle de curso - <code>GET /{curso_id}/modulos</code> \u2014 M\u00f3dulos del curso - <code>GET /modulos/{modulo_id}/lecciones</code> \u2014 Lecciones del m\u00f3dulo</p>"},{"location":"architecture/#5-evaluaciones-service-fastapi","title":"5. Evaluaciones Service (FastAPI)","text":"<ul> <li>Ruta: <code>services/evaluaciones/main.py</code></li> <li>Puerto: 8003</li> <li>Base de datos: PostgreSQL</li> <li>Responsabilidades:</li> <li>Gestionar cuestionarios</li> <li>Auto-grading de respuestas</li> <li>Almacenar resultados</li> </ul> <p>Endpoints principales: - <code>GET /{cuestionario_id}</code> \u2014 Obtener quiz (sin respuestas) - <code>POST /{cuestionario_id}/responder</code> \u2014 Enviar respuestas y obtener score</p>"},{"location":"architecture/#6-progreso-service-fastapi","title":"6. Progreso Service (FastAPI)","text":"<ul> <li>Ruta: <code>services/progreso/main.py</code></li> <li>Puerto: 8004</li> <li>Base de datos: PostgreSQL</li> <li>Responsabilidades:</li> <li>Tracking de progreso de estudiantes</li> <li>Porcentaje completado por curso</li> </ul> <p>Endpoints principales: - <code>GET /estudiantes/{estudiante_id}/cursos</code> \u2014 Progreso del estudiante</p>"},{"location":"architecture/#flujo-de-autenticacion","title":"Flujo de Autenticaci\u00f3n","text":"<pre><code>1. Usuario ingresa email/password en Frontend\n2. Frontend hace POST /api/v1/auth/login al Gateway\n3. Gateway reenv\u00eda a http://auth-service:8001/login\n4. Auth service valida credenciales contra MongoDB\n5. Auth service genera JWT token\n6. Frontend recibe token y lo almacena en localStorage\n7. Requests subsiguientes incluyen: Authorization: Bearer {token}\n8. Gateway valida JWT antes de reenviar a servicios\n9. Servicios conf\u00edan en el JWT validado del Gateway\n</code></pre>"},{"location":"architecture/#databases","title":"Databases","text":""},{"location":"architecture/#mongodb-authentication","title":"MongoDB (Authentication)","text":"<ul> <li>Colecci\u00f3n: <code>users</code></li> <li>\u00cdndices: email (unique)</li> <li>Campos: id, email, hashed_password, role, created_at</li> </ul>"},{"location":"architecture/#postgresql-cursos-evaluaciones-progreso","title":"PostgreSQL (Cursos, Evaluaciones, Progreso)","text":"<ul> <li>Base de datos separada por servicio:</li> <li><code>cursos_db</code> \u2014 Cursos, m\u00f3dulos, lecciones</li> <li><code>evaluaciones_db</code> \u2014 Cuestionarios, preguntas, respuestas</li> <li><code>progreso_db</code> \u2014 Progreso del estudiante</li> <li>Cada servicio maneja sus propias migraciones</li> </ul>"},{"location":"architecture/#redis-optional","title":"Redis (Optional)","text":"<ul> <li>Uso: Almacenar refresh tokens invalidados</li> <li>Expiry: TTL autom\u00e1tico seg\u00fan exp claim del JWT</li> </ul>"},{"location":"architecture/#deployment","title":"Deployment","text":""},{"location":"architecture/#docker-compose","title":"Docker Compose","text":"<p>Todos los servicios se orquestan en <code>docker-compose.yml</code>: <pre><code>docker-compose up --build\n</code></pre></p> <p>Esto levanta: - frontend (Flask) - api-gateway (FastAPI) - auth-service + auth-db (MongoDB) - cursos-service + cursos-db (PostgreSQL) - evaluaciones-service + evaluaciones-db (PostgreSQL) - progreso-service + progreso-db (PostgreSQL) - redis (opcional)</p>"},{"location":"architecture/#escalabilidad-futura","title":"Escalabilidad Futura","text":"<p>Cada servicio puede: - Escalarse horizontalmente (m\u00faltiples instancias) - Deployarse en Kubernetes - Tener su propio CI/CD pipeline - Ser reemplazado sin afectar otros servicios</p>"},{"location":"architecture/#convenciones","title":"Convenciones","text":"<ul> <li>Puertos: Fijos en docker-compose.yml</li> <li>Rutas: <code>/health</code> en cada servicio</li> <li>Errores: HTTP status codes est\u00e1ndar</li> <li>Datos: JSON en request/response</li> <li>Auth: JWT Bearer tokens</li> <li>Env vars: Centralizadas en <code>.env</code></li> </ul>"},{"location":"development/","title":"Desarrollo","text":""},{"location":"development/#estructura-del-proyecto","title":"Estructura del Proyecto","text":"<pre><code>aprendelancia/\n\u251c\u2500\u2500 frontend/              # Flask web UI\n\u251c\u2500\u2500 api-gateway/           # FastAPI router\n\u251c\u2500\u2500 services/              # Microservicios\n\u2502   \u251c\u2500\u2500 authentication/    # Auth + JWT\n\u2502   \u251c\u2500\u2500 cursos/           # Course catalog\n\u2502   \u251c\u2500\u2500 evaluaciones/     # Quizzes\n\u2502   \u2514\u2500\u2500 progreso/         # Progress tracking\n\u251c\u2500\u2500 common/               # Shared code\n\u2502   \u251c\u2500\u2500 config.py         # Environment setup\n\u2502   \u2514\u2500\u2500 helpers/\n\u2502       \u2514\u2500\u2500 utils.py      # Utilities\n\u251c\u2500\u2500 tests/                # Tests\n\u251c\u2500\u2500 docs/                 # Documentaci\u00f3n (mkdocs)\n\u2514\u2500\u2500 docker-compose.yml    # Orquestaci\u00f3n\n</code></pre>"},{"location":"development/#getting-started","title":"Getting Started","text":""},{"location":"development/#1-clonar-y-setup","title":"1. Clonar y setup","text":"<pre><code>git clone &lt;repo-url&gt;\ncd aprendelancia\n\n# Crear virtualenv\npython3 -m venv .venv\nsource .venv/bin/activate\n\n# Instalar todas las dependencias\npip install -r api-gateway/requirements.txt\npip install -r frontend/requirements.txt\nfor service in authentication cursos evaluaciones progreso; do\n  pip install -r services/$service/requirements.txt\ndone\n\n# Dev dependencies\npip install pytest flake8 mkdocs mkdocs-material\n</code></pre>"},{"location":"development/#2-ejecutar-tests","title":"2. Ejecutar tests","text":"<pre><code># Health checks\npytest tests/test_health.py -v\n\n# Con cobertura\npytest tests/ --cov=. --cov-report=html\n</code></pre>"},{"location":"development/#3-linting","title":"3. Linting","text":"<pre><code># Verificar estilo\nflake8 services/ api-gateway/ frontend/ --max-line-length=120\n\n# Syntax check\npython -m py_compile services/cursos/main.py\n</code></pre>"},{"location":"development/#desarrollo-de-un-nuevo-servicio","title":"Desarrollo de un Nuevo Servicio","text":"<p>Si necesitas agregar un nuevo microservicio (ejemplo: <code>notificaciones</code>):</p>"},{"location":"development/#paso-1-crear-estructura","title":"Paso 1: Crear estructura","text":"<pre><code>mkdir -p services/notificaciones\ncd services/notificaciones\n\n# Crear archivos base\ntouch main.py requirements.txt Dockerfile\n</code></pre>"},{"location":"development/#paso-2-implementar-mainpy","title":"Paso 2: Implementar main.py","text":"<pre><code>from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI(title=\"Notificaciones Service\", version=\"1.0.0\")\n\n# CORS\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n@app.get(\"/health\")\ndef health():\n    return {\"status\": \"ok\"}\n\n@app.get(\"/\")\ndef list_notificaciones():\n    return {\"notificaciones\": []}\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8005)\n</code></pre>"},{"location":"development/#paso-3-agregar-requirementstxt","title":"Paso 3: Agregar requirements.txt","text":"<pre><code>fastapi==0.104.1\nuvicorn==0.24.0\npydantic==2.4.2\n</code></pre>"},{"location":"development/#paso-4-crear-dockerfile","title":"Paso 4: Crear Dockerfile","text":"<pre><code>FROM python:3.9-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8005\"]\n</code></pre>"},{"location":"development/#paso-5-actualizar-docker-composeyml","title":"Paso 5: Actualizar docker-compose.yml","text":"<pre><code>notificaciones-service:\n  build: ./services/notificaciones\n  container_name: notificaciones-service\n  environment:\n    - API_GATEWAY_URL=http://api-gateway:8000\n  ports:\n    - \"8005:8005\"\n  networks:\n    - app-network\n</code></pre>"},{"location":"development/#paso-6-actualizar-api-gatewaymainpy","title":"Paso 6: Actualizar api-gateway/main.py","text":"<pre><code>SERVICES = {\n    \"auth\": \"http://auth-service:8001\",\n    \"cursos\": \"http://cursos-service:8002\",\n    \"evaluaciones\": \"http://evaluaciones-service:8003\",\n    \"progreso\": \"http://progreso-service:8004\",\n    \"notificaciones\": \"http://notificaciones-service:8005\"  # \u2190 Agregar\n}\n</code></pre>"},{"location":"development/#paso-7-levantar","title":"Paso 7: Levantar","text":"<pre><code>docker-compose up --build\n</code></pre>"},{"location":"development/#agregar-endpoints","title":"Agregar Endpoints","text":""},{"location":"development/#en-un-servicio-existente-ej-cursos","title":"En un servicio existente (ej: cursos)","text":"<p>Editar <code>services/cursos/main.py</code>:</p> <pre><code>@app.post(\"/{curso_id}/inscribir\")\ndef inscribir_curso(curso_id: str):\n    \"\"\"Inscribir estudiante en un curso\"\"\"\n    return {\n        \"curso_id\": curso_id,\n        \"mensaje\": \"Inscripci\u00f3n exitosa\"\n    }\n</code></pre> <p>La ruta ser\u00e1 accesible en: - Directa: <code>POST http://localhost:8002/curso1/inscribir</code> - Via Gateway: <code>POST http://localhost:8000/api/v1/cursos/curso1/inscribir</code></p>"},{"location":"development/#con-jwt-protection","title":"Con JWT protection","text":"<p>En <code>services/cursos/main.py</code> o en <code>api-gateway/main.py</code>:</p> <pre><code>from fastapi import Depends, HTTPException\nfrom fastapi.security import HTTPBearer, HTTPAuthCredentials\n\nsecurity = HTTPBearer()\n\n@app.post(\"/crear\")\ndef crear_curso(credentials: HTTPAuthCredentials = Depends(security)):\n    token = credentials.credentials\n    # Validar token aqu\u00ed (o delegado al Gateway)\n    return {\"curso_id\": \"nuevo\", \"creado\": True}\n</code></pre>"},{"location":"development/#testing","title":"Testing","text":""},{"location":"development/#tests-basicos-pytest","title":"Tests b\u00e1sicos (pytest)","text":"<pre><code># Crear test file\nmkdir -p tests\ntouch tests/test_cursos.py\n</code></pre> <pre><code># tests/test_cursos.py\nimport pytest\nimport requests\n\nBASE_URL = \"http://localhost:8000/api/v1/cursos\"\n\ndef test_list_cursos():\n    response = requests.get(f\"{BASE_URL}/\")\n    assert response.status_code == 200\n    assert \"cursos\" in response.json()\n\ndef test_get_curso():\n    response = requests.get(f\"{BASE_URL}/curso1\")\n    assert response.status_code == 200\n    data = response.json()\n    assert data[\"id\"] == \"curso1\"\n</code></pre> <p>Ejecutar:</p> <pre><code>pytest tests/test_cursos.py -v\n</code></pre>"},{"location":"development/#mocking","title":"Mocking","text":"<p>Si necesitas mockear respuestas:</p> <pre><code>from unittest.mock import patch\n\n@patch(\"requests.get\")\ndef test_with_mock(mock_get):\n    mock_get.return_value.json.return_value = {\"id\": \"curso1\"}\n    # Tu test aqu\u00ed\n</code></pre>"},{"location":"development/#variables-de-entorno","title":"Variables de Entorno","text":"<p>Editar <code>.env</code> para cambiar configuraci\u00f3n:</p> <pre><code># API Gateway\nAPI_GATEWAY_URL=http://localhost:8000\n\n# Services\nAUTH_SERVICE_URL=http://localhost:8001\nCURSOS_SERVICE_URL=http://localhost:8002\n\n# Bases de datos\nAUTH_DATABASE_URL=mongodb://localhost:27017/auth_db\nCURSOS_DATABASE_URL=postgresql://localhost/cursos_db\n\n# Security\nJWT_SECRET=your-secret-key-here\nFLASK_SECRET=another-secret\n</code></pre> <p>Cargar en Python:</p> <pre><code>from common.config import settings\n\nprint(settings.API_GATEWAY_URL)\nprint(settings.JWT_SECRET)\n</code></pre>"},{"location":"development/#documentacion-mkdocs","title":"Documentaci\u00f3n (mkdocs)","text":""},{"location":"development/#editar-documentacion","title":"Editar documentaci\u00f3n","text":"<p>Archivos en <code>docs/</code>: - <code>index.md</code> \u2014 P\u00e1gina de inicio - <code>architecture.md</code> \u2014 Diagramas - <code>setup.md</code> \u2014 Setup guide - <code>api.md</code> \u2014 API reference - <code>development.md</code> \u2014 Este archivo</p>"},{"location":"development/#servidor-local","title":"Servidor local","text":"<pre><code>mkdocs serve\n# Abierto en http://127.0.0.1:8000/docs/\n</code></pre>"},{"location":"development/#build-static","title":"Build static","text":"<pre><code>mkdocs build\n# Genera en ./site/\n</code></pre>"},{"location":"development/#cicd","title":"CI/CD","text":"<p>GitHub Actions workflow en <code>.github/workflows/ci.yml</code>:</p> <ul> <li>Lint: flake8 syntax checks</li> <li>Test: pytest con postgres/mongo/redis services</li> <li>Docs: mkdocs build y deploy a GitHub Pages</li> <li>Docker: docker-compose build validation</li> </ul> <p>Triggers: push a main/develop, PR a main</p>"},{"location":"development/#debugging","title":"Debugging","text":""},{"location":"development/#logs-en-docker","title":"Logs en Docker","text":"<pre><code># Ver logs de un servicio\ndocker-compose logs -f cursos-service\n\n# \u00daltimas 100 l\u00edneas\ndocker-compose logs --tail 100 cursos-service\n\n# Todos los servicios\ndocker-compose logs -f\n</code></pre>"},{"location":"development/#conectarse-al-contenedor","title":"Conectarse al contenedor","text":"<pre><code># Ejecutar bash en el contenedor\ndocker-compose exec cursos-service bash\n\n# Dentro del contenedor:\npip list\npython -c \"import fastapi; print(fastapi.__version__)\"\n</code></pre>"},{"location":"development/#probar-endpoint-directamente","title":"Probar endpoint directamente","text":"<pre><code># Desde host\ncurl http://localhost:8000/api/v1/cursos/\n\n# Con JWT\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/v1/cursos/\n\n# POST con JSON\ncurl -X POST http://localhost:8000/api/v1/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\": \"user@example.com\", \"password\": \"pass\"}'\n</code></pre>"},{"location":"development/#problemas-comunes","title":"Problemas Comunes","text":""},{"location":"development/#port-already-in-use","title":"\"Port already in use\"","text":"<pre><code># Matar proceso\nlsof -i :8000\nkill -9 &lt;PID&gt;\n\n# O usar otro puerto\ndocker-compose -p custom up\n</code></pre>"},{"location":"development/#module-not-found","title":"\"Module not found\"","text":"<pre><code># Reinstalar en el service espec\u00edfico\ndocker-compose exec cursos-service pip install -r requirements.txt\n\n# O reconstruir imagen\ndocker-compose build --no-cache cursos-service\n</code></pre>"},{"location":"development/#database-connection-refused","title":"\"Database connection refused\"","text":"<pre><code># Verificar que DBs est\u00e1n corriendo\ndocker-compose ps | grep db\n\n# Si no:\ndocker-compose up -d auth-db cursos-db\n</code></pre>"},{"location":"development/#workflow-tipico","title":"Workflow T\u00edpico","text":"<pre><code># 1. Crear rama feature\ngit checkout -b feature/nueva-evaluacion\n\n# 2. Hacer cambios (ej: services/evaluaciones/main.py)\nvim services/evaluaciones/main.py\n\n# 3. Tests locales\npytest tests/ -v\n\n# 4. Linting\nflake8 services/evaluaciones/\n\n# 5. Commit\ngit add .\ngit commit -m \"Add new evaluation endpoint\"\n\n# 6. Push\ngit push origin feature/nueva-evaluacion\n\n# 7. GitHub Actions corre autom\u00e1ticamente\n# (check .github/workflows/ci.yml results)\n\n# 8. Merge a main\ngit checkout main\ngit merge feature/nueva-evaluacion\n</code></pre>"},{"location":"development/#recursos","title":"Recursos","text":"<ul> <li>FastAPI Docs</li> <li>Flask Docs</li> <li>Docker Compose Docs</li> <li>JWT Auth</li> <li>MongoDB Python Driver</li> <li>SQLAlchemy</li> </ul>"},{"location":"entrega/","title":"\ud83d\udce6 Documento de Entrega \u2014 Metodolog\u00eda Incremental","text":"<p>(versi\u00f3n integrada para MkDocs)</p>"},{"location":"entrega/#documento-de-entrega-metodologia-incremental_1","title":"\ud83d\udce6 Documento de Entrega \u2014 Metodolog\u00eda Incremental","text":"<p>Proyecto: Aprendelancia \u2014 Plataforma de Cursos Online Fecha: 15/11/2025</p> <p>Este documento resume c\u00f3mo se desarroll\u00f3 y valid\u00f3 el sistema siguiendo una metodolog\u00eda incremental. Incluye objetivos, entregables, evidencias y fragmentos de c\u00f3digo clave por incremento.</p>"},{"location":"entrega/#resumen-por-incrementos","title":"\ud83e\udded Resumen por Incrementos","text":"Incremento Entregable Principal Objetivo Evidencias requeridas 1. Autenticaci\u00f3n Microservicio de autenticaci\u00f3n (FastAPI + MongoDB) Gesti\u00f3n de usuarios, registro, login, JWT C\u00f3digo, endpoints activos, pruebas b\u00e1sicas, base MongoDB funcionando 2. Microservicios dominio Cursos, Evaluaciones, Progreso (FastAPI + Postgres) CRUD/lectura y l\u00f3gica de dominio C\u00f3digo, endpoints activos, creaci\u00f3n/lectura de datos 3. API Gateway Pasarela de API (FastAPI) Unificaci\u00f3n de acceso, seguridad, forwarding Rutas gen\u00e9ricas GET/POST, headers y query params propagados 4. Frontend Interfaz Flask conectada a Gateway Experiencia de usuario y consumo de APIs Login, dashboard, cursos y progreso visibles"},{"location":"entrega/#1-microservicio-de-autenticacion","title":"1) Microservicio de Autenticaci\u00f3n","text":"<ul> <li>Tecnolog\u00eda: FastAPI, MongoDB, JWT (python-jose), Passlib, Redis (opcional para refresh).</li> <li>Ubicaci\u00f3n: <code>services/authentication/</code></li> </ul>"},{"location":"entrega/#codigo-clave-endpoints","title":"C\u00f3digo clave (endpoints)","text":"<pre><code># services/authentication/main.py (extracto)\n@app.post(\"/register\")\ndef register(user: UserCreate):\n    if users.find_one({\"email\": user.email}):\n        raise HTTPException(status_code=409, detail=\"Email already registered\")\n\n    hashed = get_password_hash(user.password)\n    users.insert_one({\"email\": user.email, \"password\": hashed, \"role\": user.role, \"created_at\": datetime.utcnow()})\n    return {\"message\": \"user created\", \"role\": user.role}\n\n@app.post(\"/login\")\ndef login(form_data: UserCreate):\n    user = users.find_one({\"email\": form_data.email})\n    if not user or not verify_password(form_data.password, user[\"password\"]):\n        raise HTTPException(status_code=401, detail=\"Incorrect email or password\")\n    access_token = create_access_token({\"sub\": str(user[\"_id\"]), \"email\": user[\"email\"], \"role\": user.get(\"role\", \"estudiante\")})\n    refresh_token = create_refresh_token({\"sub\": str(user[\"_id\"]), \"email\": user[\"email\"], \"role\": user.get(\"role\", \"estudiante\")})\n    return {\"access_token\": access_token, \"token_type\": \"bearer\", \"refresh_token\": refresh_token}\n\n@app.get(\"/me\")\ndef read_current_user(current_user: dict = Depends(get_current_user)):\n    return {\"user\": current_user}\n</code></pre>"},{"location":"entrega/#contenedor-dockerfile","title":"Contenedor (Dockerfile)","text":"<pre><code># services/authentication/Dockerfile\nFROM python:3.12-slim\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . .\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8001\"]\n</code></pre>"},{"location":"entrega/#orquestacion-docker-compose","title":"Orquestaci\u00f3n (docker-compose)","text":"<pre><code># extracto de docker-compose.yml\nauth-service:\n  build: ./services/authentication\n  container_name: auth-service\n  ports:\n    - \"8001:8001\"\n  environment:\n    - DATABASE_URL=mongodb://auth-db:27017/auth_db\n  depends_on:\n    - auth-db\n\nauth-db:\n  image: mongo:latest\n  container_name: auth-db\n  ports:\n    - \"27017:27017\"\n  volumes:\n    - auth_data:/data/db\n</code></pre>"},{"location":"entrega/#validacion-rapida","title":"Validaci\u00f3n r\u00e1pida","text":"<pre><code># Registro\ncurl -X POST http://localhost:8001/register -H 'Content-Type: application/json' \\\n  -d '{\"email\":\"demo@demo.com\",\"password\":\"demopass123\",\"role\":\"estudiante\"}'\n\n# Login\ncurl -X POST http://localhost:8001/login -H 'Content-Type: application/json' \\\n  -d '{\"email\":\"demo@demo.com\",\"password\":\"demopass123\"}'\n\n# /me (requiere Authorization: Bearer ...)\ncurl http://localhost:8001/me -H \"Authorization: Bearer &lt;ACCESS_TOKEN&gt;\"\n</code></pre>"},{"location":"entrega/#2-microservicios-de-dominio-cursos-evaluaciones-progreso","title":"2) Microservicios de Dominio (Cursos, Evaluaciones, Progreso)","text":"<ul> <li>Tecnolog\u00eda: FastAPI. En esta plantilla, los servicios exponen datos en memoria y endpoints de lectura/creaci\u00f3n.</li> <li>Ubicaci\u00f3n:</li> <li>Cursos: <code>services/cursos/</code></li> <li>Evaluaciones: <code>services/evaluaciones/</code></li> <li>Progreso: <code>services/progreso/</code></li> </ul>"},{"location":"entrega/#cursos-endpoints","title":"Cursos \u2014 endpoints","text":"<pre><code># services/cursos/main.py (extracto)\n@app.get(\"/\")\ndef list_cursos():\n    return {\"cursos\": DATA.get(\"cursos\", [])}\n\n@app.get(\"/{curso_id}\")\ndef get_curso(curso_id: str):\n    for c in DATA.get(\"cursos\", []):\n        if c.get(\"id\") == curso_id:\n            return c\n    raise HTTPException(status_code=404, detail=\"Curso no encontrado\")\n\n@app.post(\"/cursos\")\ndef create_curso(curso: Curso):\n    if any(c.get(\"id\") == curso.id for c in DATA.get(\"cursos\", [])):\n        raise HTTPException(status_code=400, detail=\"Curso ya existe\")\n    DATA[\"cursos\"].append(curso.dict())\n    return {\"message\": \"Curso creado\", \"curso\": curso.dict()}\n</code></pre>"},{"location":"entrega/#evaluaciones-endpoints","title":"Evaluaciones \u2014 endpoints","text":"<pre><code># services/evaluaciones/main.py (extracto)\n@app.get(\"/{cuestionario_id}\")\ndef get_cuestionario(cuestionario_id: str):\n    q = DATA.get(\"cuestionarios\", {}).get(cuestionario_id)\n    if not q:\n        raise HTTPException(status_code=404, detail=\"Cuestionario no encontrado\")\n    # Se ocultan respuestas correctas\n    safe = {\"id\": q[\"id\"], \"titulo\": q[\"titulo\"], \"preguntas\": []}\n    for p in q.get(\"preguntas\", []):\n        qp = p.copy(); qp.pop(\"respuesta\", None); safe[\"preguntas\"].append(qp)\n    return safe\n\n@app.post(\"/{cuestionario_id}/responder\")\ndef responder(cuestionario_id: str, body: Respuestas):\n    # Calificaci\u00f3n simple comparando respuestas\n    ...\n    return {\"score\": score, \"correct\": correct, \"total\": total}\n</code></pre>"},{"location":"entrega/#progreso-endpoints-asignacion-aleatoria-si-no-hay-datos","title":"Progreso \u2014 endpoints (asignaci\u00f3n aleatoria si no hay datos)","text":"<pre><code># services/progreso/main.py (extracto)\n@app.get(\"/estudiantes/{estudiante_id}/cursos\")\ndef progreso_estudiante(estudiante_id: str):\n    existing = DATA.get(\"progreso\", {}).get(estudiante_id)\n    if not existing:\n        # obtiene cursos del servicio de cursos y asigna 3 aleatorios con % de avance\n        ...\n        DATA[\"progreso\"][estudiante_id] = {\"cursos\": cursos_asignados}\n        return DATA[\"progreso\"][estudiante_id]\n    return existing\n</code></pre>"},{"location":"entrega/#contenedores-dockerfile","title":"Contenedores (Dockerfile)","text":"<p><pre><code># Cursos\nFROM python:3.11-slim\nWORKDIR /app\nCOPY requirements.txt ./\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . /app\nCMD [\"uvicorn\",\"main:app\",\"--host\",\"0.0.0.0\",\"--port\",\"8002\"]\n</code></pre> <pre><code># Evaluaciones\nFROM python:3.11-slim\nWORKDIR /app\nCOPY requirements.txt ./\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . /app\nCMD [\"uvicorn\",\"main:app\",\"--host\",\"0.0.0.0\",\"--port\",\"8003\"]\n</code></pre> <pre><code># Progreso\nFROM python:3.11-slim\nWORKDIR /app\nCOPY requirements.txt ./\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . /app\nCMD [\"uvicorn\",\"main:app\",\"--host\",\"0.0.0.0\",\"--port\",\"8004\"]\n</code></pre></p>"},{"location":"entrega/#orquestacion-postgres-compose","title":"Orquestaci\u00f3n Postgres (compose)","text":"<pre><code># extracto de docker-compose.yml\ncursos-db:\n  image: postgres:latest\n  environment:\n    - POSTGRES_USER=user\n    - POSTGRES_PASSWORD=password\n    - POSTGRES_DB=cursos_db\n  ports:\n    - \"5432:5432\"\n  volumes:\n    - cursos_data:/var/lib/postgresql\n</code></pre>"},{"location":"entrega/#3-api-gateway","title":"3) API Gateway","text":"<ul> <li>Tecnolog\u00eda: FastAPI con CORS y forward de rutas gen\u00e9ricas.</li> <li>Ubicaci\u00f3n: <code>api-gateway/</code></li> </ul>"},{"location":"entrega/#rutas-genericas-con-headers-y-query-params","title":"Rutas gen\u00e9ricas con headers y query params","text":"<pre><code># api-gateway/main.py (extracto)\n@router.get(\"/{service_name}/{path:path}\")\nasync def forward_get(service_name: str, path: str, request: Request):\n    headers = {}\n    auth = request.headers.get(\"Authorization\")\n    if auth: headers[\"Authorization\"] = auth\n    response = requests.get(f\"{SERVICES[service_name]}/{path}\", params=request.query_params, headers=headers)\n    return response.json()\n\n@router.post(\"/{service_name}/{path:path}\")\nasync def forward_post(service_name: str, path: str, request: Request):\n    headers = {}\n    auth = request.headers.get(\"Authorization\")\n    if auth: headers[\"Authorization\"] = auth\n    body = None\n    try: body = await request.json()\n    except Exception: body = None\n    response = requests.post(f\"{SERVICES[service_name]}/{path}\", json=body, params=request.query_params, headers=headers)\n    return response.json()\n</code></pre>"},{"location":"entrega/#contenedor-dockerfile_1","title":"Contenedor (Dockerfile)","text":"<pre><code>FROM python:3.12-slim\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . .\nCMD [\"uvicorn\",\"main:app\",\"--host\",\"0.0.0.0\",\"--port\",\"8000\"]\n</code></pre>"},{"location":"entrega/#integracion-en-docker-composeyml","title":"Integraci\u00f3n en <code>docker-compose.yml</code>","text":"<pre><code>api-gateway:\n  build: ./api-gateway\n  environment:\n    - AUTH_SERVICE_URL=http://auth-service:8001\n    - CURSOS_SERVICE_URL=http://cursos-service:8002\n    - EVALUACIONES_SERVICE_URL=http://evaluaciones-service:8003\n    - PROGRESO_SERVICE_URL=http://progreso-service:8004\n</code></pre>"},{"location":"entrega/#4-frontend-flask","title":"4) Frontend (Flask)","text":"<ul> <li>Tecnolog\u00eda: Flask, templates Jinja2, sesi\u00f3n con JWT, consumo del Gateway.</li> <li>Ubicaci\u00f3n: <code>frontend/</code></li> </ul>"},{"location":"entrega/#ruta-de-login-y-carga-de-sesion","title":"Ruta de login y carga de sesi\u00f3n","text":"<pre><code># frontend/app.py (extracto)\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        email = request.form.get('email'); password = request.form.get('password')\n        resp = _call_service('POST','auth','login', json={'email': email, 'password': password})\n        if resp and 'access_token' in resp:\n            session['access_token'] = resp['access_token']\n            user_info = _call_service('GET','auth','me')  # devuelve {\"user\": {...}}\n            if user_info and user_info.get('user'):\n                u = user_info['user']; session['user'] = {'id': u.get('id'), 'email': u.get('email'), 'role': u.get('role','estudiante')}\n            return redirect(url_for('dashboard'))\n        flash('Email o contrase\u00f1a incorrectos', 'error')\n    return render_template('login.html')\n</code></pre>"},{"location":"entrega/#plantilla-base-navbar-con-rolusuario","title":"Plantilla base (navbar con rol/usuario)","text":"<pre><code>&lt;!-- frontend/templates/base.html (extracto) --&gt;\n&lt;nav&gt;\n  &lt;a href=\"{{ url_for('index') }}\"&gt;Inicio&lt;/a&gt;\n  {% if session.get('access_token') %}\n    &lt;a href=\"{{ url_for('dashboard') }}\"&gt;Dashboard&lt;/a&gt;\n    &lt;a href=\"{{ url_for('cursos_list') }}\"&gt;Cursos&lt;/a&gt;\n    &lt;span&gt;Hola, {{ session.get('user', {}).get('role','Usuario').capitalize() }} ({{ session.get('user', {}).get('email','') }})&lt;/span&gt;\n    &lt;a href=\"{{ url_for('logout') }}\"&gt;Cerrar sesi\u00f3n&lt;/a&gt;\n  {% else %}\n    &lt;a href=\"{{ url_for('login') }}\"&gt;Iniciar sesi\u00f3n&lt;/a&gt;\n    &lt;a href=\"{{ url_for('register') }}\"&gt;Registrarse&lt;/a&gt;\n  {% endif %}\n&lt;/nav&gt;\n</code></pre>"},{"location":"entrega/#contenedor-dockerfile_2","title":"Contenedor (Dockerfile)","text":"<pre><code># frontend/Dockerfile\nFROM python:3.12-slim\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . .\nEXPOSE 5000\nCMD [\"flask\",\"run\",\"--host=0.0.0.0\",\"--port=5000\"]\n</code></pre>"},{"location":"entrega/#ejecucion-del-stack","title":"\ud83d\ude80 Ejecuci\u00f3n del Stack","text":"<pre><code># 1) Preparar entorno\ncp .env.example .env\n\n# 2) Construir y levantar todo\ndocker compose up --build -d\n\n# 3) Endpoints \u00fatiles\n# Gateway Swagger:  http://localhost:8000/docs\n# Frontend:         http://localhost:5000\n# Auth:             http://localhost:8001/health\n# Cursos:           http://localhost:8002/\n# Evaluaciones:     http://localhost:8003/health\n# Progreso:         http://localhost:8004/health\n</code></pre>"},{"location":"entrega/#evidencias-de-validacion","title":"\u2705 Evidencias de Validaci\u00f3n","text":"<ul> <li>Health checks activos en todos los servicios (<code>/health</code>).</li> <li>Login y <code>/me</code> funcionando v\u00eda Gateway con propagaci\u00f3n de <code>Authorization</code>.</li> <li>Dashboard del frontend mostrando cursos y progreso del usuario.</li> <li>Rutas del Gateway reenviando query params (ej. responder evaluaciones).</li> </ul>"},{"location":"entrega/#anexos-recursos","title":"\ud83d\udcce Anexos / Recursos","text":"<ul> <li><code>docker-compose.yml</code> \u2014 Orquestaci\u00f3n completa.</li> <li><code>seed_data.py</code> \u2014 Script de ejemplo para poblar datos de dominio.</li> <li><code>docs/</code> \u2014 Documentaci\u00f3n navegable por MkDocs.</li> </ul> <p>Este archivo es autoinclusivo y puede compartirse como documento de entrega. Para exportarlo a PDF/HTML, puedes usar MkDocs o Pandoc en tu entorno local.</p>"},{"location":"setup/","title":"Configuraci\u00f3n","text":""},{"location":"setup/#requisitos-previos","title":"Requisitos Previos","text":"<ul> <li>Docker y Docker Compose (recomendado)</li> <li>O Python 3.8+, PostgreSQL, MongoDB, Redis (para local)</li> <li>Git</li> </ul>"},{"location":"setup/#opcion-1-docker-compose-recomendado","title":"Opci\u00f3n 1: Docker Compose (Recomendado)","text":""},{"location":"setup/#paso-1-clonar-el-repositorio","title":"Paso 1: Clonar el repositorio","text":"<pre><code>git clone &lt;repo-url&gt;\ncd aprendelancia\n</code></pre>"},{"location":"setup/#paso-2-configurar-variables-de-entorno","title":"Paso 2: Configurar variables de entorno","text":"<pre><code>cp .env.example .env\n</code></pre> <p>Revisar y ajustar <code>.env</code> si es necesario.</p>"},{"location":"setup/#paso-3-levantar-los-servicios","title":"Paso 3: Levantar los servicios","text":"<pre><code>docker-compose up --build\n</code></pre> <p>Esto toma unos minutos en la primera ejecuci\u00f3n. Ver\u00e1s algo como:</p> <pre><code>auth-service_1         | Uvicorn running on http://0.0.0.0:8001\ncursos-service_1       | Uvicorn running on http://0.0.0.0:8002\nevaluaciones-service_1 | Uvicorn running on http://0.0.0.0:8003\nprogreso-service_1     | Uvicorn running on http://0.0.0.0:8004\napi-gateway_1          | Uvicorn running on http://0.0.0.0:8000\nfrontend_1             | Running on http://0.0.0.0:5000\n</code></pre>"},{"location":"setup/#paso-4-acceder-a-la-plataforma","title":"Paso 4: Acceder a la plataforma","text":"<ul> <li>Frontend: http://localhost:5000</li> <li>Gateway API Docs: http://localhost:8000/docs</li> <li>Gateway Redoc: http://localhost:8000/redoc</li> </ul>"},{"location":"setup/#paso-5-probar","title":"Paso 5: Probar","text":"<pre><code># Health check\ncurl http://localhost:8000/api/v1/auth/health\ncurl http://localhost:8000/api/v1/cursos/health\n</code></pre>"},{"location":"setup/#opcion-2-local-sin-docker","title":"Opci\u00f3n 2: Local (Sin Docker)","text":""},{"location":"setup/#paso-1-crear-virtualenv","title":"Paso 1: Crear virtualenv","text":"<pre><code>python3 -m venv .venv\nsource .venv/bin/activate  # Linux/Mac\n# o\n.venv\\Scripts\\activate  # Windows\n</code></pre>"},{"location":"setup/#paso-2-instalar-dependencias","title":"Paso 2: Instalar dependencias","text":"<pre><code># Instalaciones comunes\npip install --upgrade pip setuptools\n\n# Services\nfor service in authentication cursos evaluaciones progreso; do\n  pip install -r services/$service/requirements.txt\ndone\n\n# Gateway y Frontend\npip install -r api-gateway/requirements.txt\npip install -r frontend/requirements.txt\n</code></pre>"},{"location":"setup/#paso-3-configurar-bases-de-datos","title":"Paso 3: Configurar bases de datos","text":""},{"location":"setup/#postgresql","title":"PostgreSQL","text":"<pre><code># macOS\nbrew install postgresql\n\n# Linux (Debian/Ubuntu)\nsudo apt-get install postgresql postgresql-contrib\n\n# Crear bases de datos\ncreatedb cursos_db\ncreatedb evaluaciones_db\ncreatedb progreso_db\n\n# Verificar\npsql -l | grep -E \"cursos_db|evaluaciones_db|progreso_db\"\n</code></pre>"},{"location":"setup/#mongodb","title":"MongoDB","text":"<pre><code># macOS\nbrew install mongodb-community\n\n# Linux (Debian/Ubuntu)\nsudo apt-get install -y mongodb\n\n# Iniciar servicio\nbrew services start mongodb-community  # macOS\nsudo systemctl start mongod  # Linux\n</code></pre>"},{"location":"setup/#redis","title":"Redis","text":"<pre><code># macOS\nbrew install redis\n\n# Linux\nsudo apt-get install redis-server\n\n# Iniciar\nbrew services start redis  # macOS\nsudo systemctl start redis-server  # Linux\n</code></pre>"},{"location":"setup/#paso-4-configurar-env","title":"Paso 4: Configurar .env","text":"<pre><code>cp .env.example .env\n</code></pre> <p>Actualizar con URLs locales:</p> <pre><code>API_GATEWAY_URL=http://127.0.0.1:8000\nAUTH_DATABASE_URL=mongodb://127.0.0.1:27017/auth_db\nREDIS_URL=redis://127.0.0.1:6379/0\nCURSOS_DATABASE_URL=postgresql://localhost/cursos_db\nEVALUACIONES_DATABASE_URL=postgresql://localhost/evaluaciones_db\nPROGRESO_DATABASE_URL=postgresql://localhost/progreso_db\n</code></pre>"},{"location":"setup/#paso-5-ejecutar-servicios","title":"Paso 5: Ejecutar servicios","text":"<p>Abrir 5 terminales diferentes:</p> <p>Terminal 1: Cursos Service <pre><code>cd services/cursos\nuvicorn main:app --reload --host 127.0.0.1 --port 8002\n</code></pre></p> <p>Terminal 2: Evaluaciones Service <pre><code>cd services/evaluaciones\nuvicorn main:app --reload --host 127.0.0.1 --port 8003\n</code></pre></p> <p>Terminal 3: Progreso Service <pre><code>cd services/progreso\nuvicorn main:app --reload --host 127.0.0.1 --port 8004\n</code></pre></p> <p>Terminal 4: API Gateway <pre><code>uvicorn api_gateway.main:app --reload --host 127.0.0.1 --port 8000\n</code></pre></p> <p>Terminal 5: Frontend <pre><code>cd frontend\npython app.py\n</code></pre></p>"},{"location":"setup/#acceder","title":"Acceder","text":"<ul> <li>Frontend: http://127.0.0.1:5000</li> <li>Gateway: http://127.0.0.1:8000/docs</li> </ul>"},{"location":"setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"setup/#docker-port-already-in-use","title":"Docker: \"Port already in use\"","text":"<pre><code># Ver qu\u00e9 est\u00e1 usando los puertos\nlsof -i :5000\nlsof -i :8000\n\n# Matar proceso\nkill -9 &lt;PID&gt;\n\n# O cambiar puertos en docker-compose.yml\n</code></pre>"},{"location":"setup/#postgresql-connection-refused","title":"PostgreSQL: \"Connection refused\"","text":"<pre><code># Verificar que PostgreSQL est\u00e1 corriendo\nbrew services list  # macOS\nsystemctl status postgresql  # Linux\n\n# Crear DBs si no existen\ncreatedb cursos_db\ncreatedb evaluaciones_db\ncreatedb progreso_db\n</code></pre>"},{"location":"setup/#mongodb-connection-refused","title":"MongoDB: \"Connection refused\"","text":"<pre><code># Verificar conexi\u00f3n\nmongo --eval \"db.version()\"\n\n# Iniciar si no corre\nbrew services start mongodb-community  # macOS\n</code></pre>"},{"location":"setup/#redis-connection-refused","title":"Redis: \"Connection refused\"","text":"<pre><code># Verificar\nredis-cli ping\n\n# Iniciar\nbrew services start redis  # macOS\n</code></pre>"},{"location":"setup/#module-not-found-errors","title":"\"Module not found\" errors","text":"<pre><code># Reinstalar dependencias\npip install -r services/&lt;service&gt;/requirements.txt --force-reinstall\n\n# O completamente\npython3 -m venv .venv\nsource .venv/bin/activate\npip install -r common/requirements.txt  # Si existe\nfor service in authentication cursos evaluaciones progreso; do\n  pip install -r services/$service/requirements.txt\ndone\n</code></pre>"},{"location":"setup/#comandos-utiles","title":"Comandos \u00datiles","text":""},{"location":"setup/#docker-compose","title":"Docker Compose","text":"<pre><code># Levantar en background\ndocker-compose up -d --build\n\n# Ver logs de un servicio\ndocker-compose logs -f cursos-service\n\n# Ver logs de todos\ndocker-compose logs -f\n\n# Parar servicios\ndocker-compose down\n\n# Parar y eliminar vol\u00famenes (\u26a0\ufe0f pierde datos)\ndocker-compose down -v\n\n# Rebuild de una imagen\ndocker-compose build --no-cache auth-service\n\n# Ejecutar comando en contenedor\ndocker-compose exec cursos-service bash\n</code></pre>"},{"location":"setup/#local-development","title":"Local Development","text":"<pre><code># Tests\npytest tests/test_health.py -v\n\n# Lint\nflake8 services/cursos/ api-gateway/ frontend/\n\n# Syntax check\npython -m py_compile services/cursos/main.py\n\n# Build docs\nmkdocs serve  # http://127.0.0.1:8000/docs/\n</code></pre>"},{"location":"setup/#variables-de-entorno","title":"Variables de Entorno","text":"<p>Ver <code>.env.example</code> para la lista completa. Principales:</p> <pre><code>API_GATEWAY_URL=http://localhost:8000           # URL del gateway (usado por Frontend)\nAUTH_DATABASE_URL=mongodb://...                 # Connection string MongoDB\nREDIS_URL=redis://...                           # Redis URL\nJWT_SECRET=&lt;random-long-string&gt;                 # Clave secreta JWT\nCURSOS_DATABASE_URL=postgresql://...            # DB Cursos\nEVALUACIONES_DATABASE_URL=postgresql://...      # DB Evaluaciones\nPROGRESO_DATABASE_URL=postgresql://...          # DB Progreso\nFLASK_SECRET=&lt;random-string&gt;                    # Clave secreta Flask\n</code></pre> <p>Generar secrets seguros:</p> <pre><code>python -c \"import secrets; print(secrets.token_urlsafe(32))\"\n</code></pre>"}]}